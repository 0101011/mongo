#! /bin/sh
#
# $Id$

# Run standard scripts.
t=__wt.$$
trap 'rm -f $t *.pyc __tmp __wt.*; exit 0' 0 1 2 3 13 15

run()
{
	echo -n "$2 ..."
	$1 | 2>&1 sed -e 's/^/	/' > $t
	test -s $t && (echo && cat $t) || echo ' OK'
}

echo 'dist/s_all run started...'

run "python api_flags.py" "Building API flags include file"
run "python api.py" "Building API methods"
run "python api_err.py" "Building error return API"
run "python stat.py" "Building statistics support"
run "python serial.py" "Building serial function support"

run "sh ./s_prototypes" "Building prototypes for include files"
run "sh ./s_readme" "Building README file"
run "sh ./s_tags" "Building tags files"
run "sh ./s_whitespace" "Removing trailing whitespace from source files"

run "sh ./s_copyright" "Checking for incorrect copyright notices"
run "sh ./s_define" "Checking for unused #defines"
run "sh ./s_types" "Checking for incorrect types"

echo 'dist/s_all run finished'
